
## 一.程序内存存储结构
|  存储区  | 生命周期 |
|  ---- | ---- |
|  堆区 *heap*   | 动态生命期 |
|  栈区 *stack*   | 局部生命期 |
|  数据区 *data*  |  静态生命期 |
|  代码区 *code*  |  静态生命期 |

## 二.生命周期简介
1.	静态生命期
	+	**时间** [长]整个程序运行期。
	+	**时机** 预编译时期。
	+	**对象** 全局变量,静态全局变量,静态局部变量,const常变量,函数。
	+	**存储** 数据区/代码区。
	+	**初值** 变量若不作显式初始化,C++编译器会自动将其初始化成(相应类型的)0。
2.	局部生命期
	+	**时间** [短]起始于声明点,结束于作用域结束处。
	+	**时机** 编译时期。
	+	**对象** 局部变量。
	+	**存储** 栈区。
	+	**初值** 若不作初始化,其值不确定。
	
3.	动态生命期
	+ **时间** [短]由程序员自行干预。
	
	+ **时机** 运行时期。
	
	+ **对象** 程序员手动分配的空间。
	
	+ **存储** 堆区。
	
	+	**初值** 若不作初始化,其值不确定。

## 三.动态空间分配和释放
>[danger]这些空间一旦分配，就需要自行回收，否则会产生内存泄漏(内存垃圾)。

1.	C++分配方式:`new`和`delete`运算符
	+	C++的new运算符返回一个指针。
	```c++
	#include <iostream>
	using namespace std;

	int main()
	{
		//分配空间
		int *uninitialized = new int;
		//分配空间并初始化
		int *initialized = new int(666);
		//分配连续的空间（不能初始化）
		int *array = new int[5];
		int i;
		//赋值
		*uninitialized = 2333;
		for (i = 0; i < 5; i++) {
			array[i] = i;
		}
		//输出
		cout<<*initialized<<endl;
		for (i = 0; i < 5; i++) {
			cout<<array[i]<<endl;
		}
		delete uninitialized;//释放空间
		delete initialized;//释放空间
		delete[] array;//释放数组空间
		return 0;
	}

	```
2.	C分配方式：
	```c
	void * malloc (unsigned size);//创建空间
	void free (void *p);//释放空间
	void * realloc (void *p,unsigned size);//修改空间
	void * calloc (unsigned n,unsigned size);//创建空间并初始化为0
	```

